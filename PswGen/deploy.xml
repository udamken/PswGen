<?xml version="1.0" encoding="UTF-8"?>

<project name="Create PswGen.zip in product subdirectory" default="package" basedir=".">

	<property name="launch4j.dir" location="C:/Program Files/launch4j" />

	<taskdef name="launch4j" classname="net.sf.launch4j.ant.Launch4jTask" classpath="${launch4j.dir}/launch4j.jar:${launch4j.dir}/lib/xstream.jar" />

	<!--
		ACHTUNG: Das jar-File muss noch mit Eclipse erzeugt werden
	-->
	<target name="package" depends="createExe,createZip">
	</target>

	<!--
		ACHTUNG: PswGenSplash.bmp muss von GIMP aus PswGenSplash.xcf mit KompatibilitÃ¤tsoption
		"Farbraum nicht schreiben" und 24-Bit exportiert werden, sonst startet das von launch4j
		erzeugte exe-File nicht.
	-->
	<target name="createExe">
		<launch4j configFile="launch4j.xml" />
	</target>

	<target name="createZip">
		<zip destfile="product/PswGen.zip">
			<fileset dir="lib">
				<include name="*.jar" />
			</fileset>
			<fileset dir="product">
				<include name="*.exe" />
				<include name="*.jar" />
			</fileset>
			<fileset dir=".">
				<include name="LICENSE.txt" />
			</fileset>
		</zip>
	</target>

</project>